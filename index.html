<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ward 1 Community Enhancement Funds â€” FY 2025â€“26</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', Arial, sans-serif; background: #f0f2f5; color: #1a1a2e; }

  header {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 60%, #0f3460 100%);
    color: white; padding: 28px 40px;
    display: flex; align-items: center; justify-content: space-between;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  header h1 { font-size: 1.6rem; font-weight: 700; line-height: 1.3; }
  header p { font-size: 0.85rem; opacity: 0.75; margin-top: 4px; }
  .badge { background: #e94560; color: white; padding: 5px 14px; border-radius: 20px; font-size: 0.78rem; font-weight: 600; white-space: nowrap; }

  .container { max-width: 1400px; margin: 0 auto; padding: 30px 24px; }

  /* Budget Cards */
  .budget-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 28px; }
  .budget-card {
    background: white; border-radius: 16px; padding: 24px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.07); border-top: 5px solid;
    position: relative; overflow: hidden;
  }
  .budget-card::after {
    content: ''; position: absolute; right: -20px; top: -20px;
    width: 100px; height: 100px; border-radius: 50%; opacity: 0.06;
    background: currentColor;
  }
  .budget-card.capital { border-color: #0f3460; }
  .budget-card.noncapital { border-color: #e94560; }
  .budget-card.discretionary { border-color: #533483; }
  .card-label { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; opacity: 0.55; margin-bottom: 6px; }
  .card-amount { font-size: 2rem; font-weight: 800; line-height: 1; margin-bottom: 4px; }
  .card-sub { font-size: 0.82rem; color: #666; margin-bottom: 14px; }
  .progress-bar { height: 10px; background: #eee; border-radius: 10px; overflow: hidden; margin-bottom: 8px; }
  .progress-fill { height: 100%; border-radius: 10px; transition: width 0.6s ease; }
  .capital .progress-fill { background: linear-gradient(90deg, #0f3460, #1a5276); }
  .noncapital .progress-fill { background: linear-gradient(90deg, #e94560, #c0392b); }
  .discretionary .progress-fill { background: linear-gradient(90deg, #533483, #7d3c98); }
  .progress-meta { display: flex; justify-content: space-between; font-size: 0.78rem; color: #888; }
  .remaining { font-weight: 700; }
  .capital .remaining { color: #0f3460; }
  .noncapital .remaining { color: #e94560; }
  .discretionary .remaining { color: #533483; }

  /* Charts grid */
  .charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 28px; }
  .chart-card {
    background: white; border-radius: 16px; padding: 24px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.07);
  }
  .chart-card.wide { grid-column: 1 / -1; }
  .chart-title { font-size: 0.95rem; font-weight: 700; margin-bottom: 18px; color: #1a1a2e; display: flex; align-items: center; gap: 8px; }
  .chart-title span { font-size: 0.75rem; font-weight: 400; color: #888; }
  .chart-wrapper { position: relative; height: 280px; }
  .chart-wrapper.tall { height: 360px; }

  /* Vendor chart */
  .vendor-chart-wrapper { position: relative; height: 380px; }

  /* Transactions table */
  .table-card {
    background: white; border-radius: 16px; padding: 24px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.07); margin-bottom: 28px;
  }
  .table-controls { display: flex; gap: 12px; margin-bottom: 18px; flex-wrap: wrap; align-items: center; }
  .search-input {
    flex: 1; min-width: 200px; padding: 10px 16px;
    border: 2px solid #e8e8e8; border-radius: 10px;
    font-size: 0.9rem; outline: none; transition: border-color 0.2s;
  }
  .search-input:focus { border-color: #0f3460; }
  .filter-btn {
    padding: 9px 18px; border-radius: 10px; border: 2px solid #e8e8e8;
    font-size: 0.83rem; font-weight: 600; cursor: pointer;
    background: white; transition: all 0.2s; white-space: nowrap;
  }
  .filter-btn.active { background: #1a1a2e; color: white; border-color: #1a1a2e; }
  .filter-btn:hover:not(.active) { border-color: #aaa; }
  .filter-btn.cap-btn.active { background: #0f3460; border-color: #0f3460; }
  .filter-btn.non-btn.active { background: #e94560; border-color: #e94560; }
  .filter-btn.disc-btn.active { background: #533483; border-color: #533483; }

  table { width: 100%; border-collapse: collapse; font-size: 0.87rem; }
  th { text-align: left; padding: 10px 12px; font-size: 0.72rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; color: #888; border-bottom: 2px solid #f0f0f0; }
  td { padding: 11px 12px; border-bottom: 1px solid #f5f5f5; vertical-align: middle; }
  tr:hover td { background: #fafbfc; }
  tr:last-child td { border-bottom: none; }
  .tag {
    display: inline-block; padding: 3px 10px; border-radius: 20px;
    font-size: 0.72rem; font-weight: 700; white-space: nowrap;
  }
  .tag-capital { background: #ddeaf7; color: #0f3460; }
  .tag-noncapital { background: #fde8ec; color: #c0392b; }
  .tag-discretionary { background: #ede8f5; color: #533483; }
  .tag-credit { background: #e8f5e9; color: #1b5e20; }
  .amount-pos { font-weight: 700; color: #1a1a2e; }
  .amount-neg { font-weight: 700; color: #27ae60; }
  .date-col { white-space: nowrap; color: #666; font-size: 0.83rem; }
  .vendor-col { font-weight: 600; max-width: 200px; }
  .desc-col { color: #555; font-size: 0.84rem; max-width: 280px; }
  .no-results { text-align: center; padding: 40px; color: #aaa; font-style: italic; }
  .table-footer { margin-top: 14px; font-size: 0.82rem; color: #888; display: flex; justify-content: space-between; align-items: center; }
  .total-shown { font-weight: 700; color: #1a1a2e; }

  /* Summary stat row */
  .stat-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 28px; }
  .stat-box { background: white; border-radius: 12px; padding: 18px 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); text-align: center; }
  .stat-num { font-size: 1.6rem; font-weight: 800; color: #1a1a2e; }
  .stat-lbl { font-size: 0.75rem; color: #888; margin-top: 2px; text-transform: uppercase; letter-spacing: 0.06em; }

  footer { text-align: center; padding: 20px; color: #aaa; font-size: 0.78rem; }

  @media (max-width: 900px) {
    .budget-grid { grid-template-columns: 1fr; }
    .charts-grid { grid-template-columns: 1fr; }
    .charts-grid .chart-card.wide { grid-column: 1; }
    .stat-row { grid-template-columns: repeat(2, 1fr); }
    header { flex-direction: column; align-items: flex-start; gap: 12px; }
  }
</style>
</head>
<body>

<header>
  <div>
    <h1>Ward 1 â€” Community Enhancement Fund Tracker</h1>
    <p>FY 2025â€“26 &nbsp;Â·&nbsp; July 1, 2025 â€“ January 31, 2026 &nbsp;Â·&nbsp; General Ledger Source Data</p>
  </div>
  <div class="badge">As of Jan 31, 2026</div>
</header>

<div class="container">

  <!-- Budget Overview Cards -->
  <div class="budget-grid">
    <div class="budget-card capital">
      <div class="card-label">Capital Budget</div>
      <div class="card-amount">$190,089</div>
      <div class="card-sub">spent of $500,000 allocated</div>
      <div class="progress-bar"><div class="progress-fill" style="width: 38.02%"></div></div>
      <div class="progress-meta">
        <span>38% used</span>
        <span class="remaining">$309,911 remaining</span>
      </div>
    </div>
    <div class="budget-card noncapital">
      <div class="card-label">Non-Capital Budget</div>
      <div class="card-amount">$307,024</div>
      <div class="card-sub">spent of $400,000 allocated</div>
      <div class="progress-bar"><div class="progress-fill" style="width: 76.76%"></div></div>
      <div class="progress-meta">
        <span>77% used</span>
        <span class="remaining">$92,976 remaining</span>
      </div>
    </div>
    <div class="budget-card discretionary">
      <div class="card-label">Discretionary Allowance</div>
      <div class="card-amount">$4,644</div>
      <div class="card-sub">net spent (Jul 2025 â€“ Jan 2026)</div>
      <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
      <div class="progress-meta">
        <span>$5,639 debits Â· $995 credits</span>
        <span class="remaining">Ongoing</span>
      </div>
    </div>
  </div>

  <!-- Stat row -->
  <div class="stat-row">
    <div class="stat-box">
      <div class="stat-num">$501,757</div>
      <div class="stat-lbl">Total Spent (All Funds)</div>
    </div>
    <div class="stat-box">
      <div class="stat-num">56</div>
      <div class="stat-lbl">Individual Transactions</div>
    </div>
    <div class="stat-box">
      <div class="stat-num">32</div>
      <div class="stat-lbl">Unique Vendors</div>
    </div>
    <div class="stat-box">
      <div class="stat-num">7 mo.</div>
      <div class="stat-lbl">Period Covered</div>
    </div>
  </div>

  <!-- Charts -->
  <div class="charts-grid">
    <div class="chart-card wide">
      <div class="chart-title">Monthly Spending by Fund <span>Gross debits per month</span></div>
      <div class="chart-wrapper">
        <canvas id="monthlyChart"></canvas>
      </div>
    </div>
    <div class="chart-card">
      <div class="chart-title">Top Vendors â€” Capital <span>Cumulative payments</span></div>
      <div class="chart-wrapper tall">
        <canvas id="vendorCapChart"></canvas>
      </div>
    </div>
    <div class="chart-card">
      <div class="chart-title">Top Vendors â€” Non-Capital <span>Cumulative payments</span></div>
      <div class="chart-wrapper tall">
        <canvas id="vendorNonCapChart"></canvas>
      </div>
    </div>
    <div class="chart-card">
      <div class="chart-title">Non-Capital Spending by Purpose</div>
      <div class="chart-wrapper">
        <canvas id="purposeChart"></canvas>
      </div>
    </div>
    <div class="chart-card">
      <div class="chart-title">Budget Utilization at a Glance</div>
      <div class="chart-wrapper">
        <canvas id="utilizationChart"></canvas>
      </div>
    </div>
  </div>

  <!-- Transaction Table -->
  <div class="table-card">
    <div class="chart-title">All Transactions <span id="rowCountLabel"></span></div>
    <div class="table-controls">
      <input type="text" class="search-input" id="searchInput" placeholder="ðŸ”  Search vendor, description, amountâ€¦" oninput="filterTable()">
      <button class="filter-btn active" onclick="setFilter('all', this)">All</button>
      <button class="filter-btn cap-btn" onclick="setFilter('Capital', this)">Capital</button>
      <button class="filter-btn non-btn" onclick="setFilter('Non-Capital', this)">Non-Capital</button>
      <button class="filter-btn disc-btn" onclick="setFilter('Discretionary', this)">Discretionary</button>
      <button class="filter-btn" onclick="setFilter('Credit', this)">Credits/Voids</button>
    </div>
    <div style="overflow-x: auto;">
      <table id="txTable">
        <thead>
          <tr>
            <th>Date</th>
            <th>Vendor / Payee</th>
            <th>Description</th>
            <th>Fund</th>
            <th style="text-align:right">Amount</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
    <div class="table-footer">
      <span id="rowSummary"></span>
      <span class="total-shown" id="totalShown"></span>
    </div>
  </div>

</div>

<footer>Data sourced from City of College Park General Ledger Reports Â· Ward 1 Community Enhancement Funds Â· FY 2025â€“26</footer>

<script>
// â”€â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const transactions = [
  // CAPITAL
  {date:"2025-10-13", vendor:"Hydroecology North America II", desc:"Ward 1 Main Street Improvements Phase II", fund:"Capital", amount:3038.26},
  {date:"2025-10-14", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Crepe Myrtle Reimbursement - Main St (VOID/CREDIT)", fund:"Credit", amount:-1140.18},
  {date:"2025-10-21", vendor:"PowerCircle Management LLC", desc:"Ward 1 Project Management Services", fund:"Capital", amount:3000.00},
  {date:"2025-11-05", vendor:"PowerCircle Management LLC", desc:"Ward 1 Project Management Services", fund:"Capital", amount:3000.00},
  {date:"2025-11-11", vendor:"A & S Paving Inc.", desc:"Ward 1 Street Resurfacing â€” Parkview Circle", fund:"Capital", amount:76967.75},
  {date:"2025-11-14", vendor:"PowerCircle Management LLC", desc:"Ward 1 Project Management Services", fund:"Capital", amount:3000.00},
  {date:"2025-11-18", vendor:"La'Neice Littleton", desc:"Ward 1 Professional Historical Consultant Services", fund:"Capital", amount:2950.00},
  {date:"2025-11-25", vendor:"James Maceo Rogers", desc:"Ward 1 Acrylic on Canvas", fund:"Capital", amount:10475.00},
  {date:"2025-12-09", vendor:"Pinnacle Maintenance LLC", desc:"Main Street Revitalization Project Deposit", fund:"Capital", amount:20600.00},
  {date:"2025-12-11", vendor:"PowerCircle Management LLC", desc:"Ward 1 Project Management Services", fund:"Capital", amount:3000.00},
  {date:"2025-12-15", vendor:"Hydroecology North America II", desc:"Ward 1 Main Street Improvements Phase II", fund:"Capital", amount:5960.00},
  {date:"2025-12-15", vendor:"La'Neice Littleton", desc:"Ward 1 Professional Historical Consultant Services", fund:"Capital", amount:2950.00},
  {date:"2026-01-05", vendor:"James Maceo Rogers", desc:"Ward 1 Acrylic on Canvas", fund:"Capital", amount:10475.00},
  {date:"2026-01-15", vendor:"PowerCircle Management LLC", desc:"Ward 1 Project Management Services", fund:"Capital", amount:3000.00},

  // NON-CAPITAL â€” NOVEMBER
  {date:"2025-11-04", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursements for Ward 1 Expenditures", fund:"Non-Capital", amount:853.89},
  {date:"2025-11-05", vendor:"Mario Malcolm", desc:"Ward 1 Community & Partner Relations Specialist", fund:"Non-Capital", amount:3000.00},
  {date:"2025-11-09", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement for Ward 1 Expenditures", fund:"Non-Capital", amount:387.76},
  {date:"2025-11-10", vendor:"Terico M. Harper", desc:"November Video/Photography for Ward 1", fund:"Non-Capital", amount:700.00},
  {date:"2025-11-10", vendor:"Eight 11 Collective LLC", desc:"Ward 1 Community Give Back / Youth Leadership Data", fund:"Non-Capital", amount:5500.00},
  {date:"2025-11-10", vendor:"Destination College Park", desc:"3rd Installment â€” Ward 1 Community Enhancement Initiative", fund:"Non-Capital", amount:10000.00},
  {date:"2025-11-10", vendor:"Eight 11 Collective LLC", desc:"Ward 1 Planning Conf. Meeting Space & F&B Deposit", fund:"Non-Capital", amount:1450.00},
  {date:"2025-11-12", vendor:"Power Co. Music LLC", desc:"Ward 1 Veterans Day Event DJ", fund:"Non-Capital", amount:375.00},
  {date:"2025-11-12", vendor:"Ignite Resource Center CP Inc.", desc:"Ward 1 Assistance Programming During Govt. Shutdown", fund:"Non-Capital", amount:8000.00},
  {date:"2025-11-12", vendor:"Conley Recreation Center", desc:"Staff for Ward 1 Veteran's Program", fund:"Non-Capital", amount:270.00},
  {date:"2025-11-13", vendor:"Eleanor Cornelius (BIDA Board)", desc:"Quarterly Professional Education Consultant â€” Ward 1", fund:"Non-Capital", amount:2400.00},
  {date:"2025-11-13", vendor:"Venue Code 44", desc:"Roses & Vases for Ward 1 Veteran's Day Event", fund:"Non-Capital", amount:185.00},
  {date:"2025-11-18", vendor:"Mario Malcolm", desc:"Ward 1 Community & Partner Relations Specialist", fund:"Non-Capital", amount:3000.00},
  {date:"2025-11-20", vendor:"Venue Code 44", desc:"Ward 1 Senior Thanksgiving Dinner", fund:"Non-Capital", amount:275.00},
  {date:"2025-11-20", vendor:"Venue Code 44", desc:"Community Engagement and Outreach â€” Mayor Pro Tem", fund:"Non-Capital", amount:2500.00},
  {date:"2025-11-20", vendor:"Venue Code 44", desc:"Ward 1 Flyers for Holiday Drive Promo", fund:"Non-Capital", amount:1000.00},
  {date:"2025-11-20", vendor:"Food in the City", desc:"End of Year Coordinator for Mayor Pro Tem McKenzie", fund:"Non-Capital", amount:7000.00},
  {date:"2025-11-25", vendor:"Lovely Media LLC", desc:"Main Street Train Depot Documentary â€” Ward 1", fund:"Non-Capital", amount:12500.00},
  {date:"2025-11-25", vendor:"C'est La Vie Cafe", desc:"Ward 1 Jingle and Mingle Winter Market", fund:"Non-Capital", amount:515.00},
  {date:"2025-11-25", vendor:"C'est La Vie Cafe", desc:"Ward 1 Light Up the City & Holiday Tinsel Trail", fund:"Non-Capital", amount:515.00},
  {date:"2025-11-29", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursements for Ward 1 Expenditures", fund:"Non-Capital", amount:324.11},

  // NON-CAPITAL â€” DECEMBER
  {date:"2025-12-02", vendor:"Jay Productions Agency", desc:"Ward 1 Community Events Consultant", fund:"Non-Capital", amount:6000.00},
  {date:"2025-12-02", vendor:"Power Co. Music LLC", desc:"DJ Services â€” Ward 1 Holiday Give Back", fund:"Non-Capital", amount:600.00},
  {date:"2025-12-02", vendor:"Power Co. Music LLC", desc:"DJ Services â€” Ward 1 Senior Christmas Holiday Dinner", fund:"Non-Capital", amount:350.00},
  {date:"2025-12-02", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Seniors Christmas Ornaments", fund:"Non-Capital", amount:1366.99},
  {date:"2025-12-04", vendor:"Destination College Park", desc:"4th Installment â€” Ward 1 Community Enhancement Initiative", fund:"Non-Capital", amount:10000.00},
  {date:"2025-12-04", vendor:"College Park Historical Society", desc:"Ward 1 Recognition Event and Advertising", fund:"Non-Capital", amount:3500.00},
  {date:"2025-12-05", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Holiday Giveback Toys", fund:"Non-Capital", amount:135.54},
  {date:"2025-12-05", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Ward 1 Keys to the City Plaque", fund:"Non-Capital", amount:330.00},
  {date:"2025-12-05", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Hoodies", fund:"Non-Capital", amount:1265.37},
  {date:"2025-12-05", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Holiday Giveback Toys", fund:"Non-Capital", amount:1372.74},
  {date:"2025-12-05", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Holiday Giveback Toys", fund:"Non-Capital", amount:2357.05},
  {date:"2025-12-08", vendor:"Skylar Security", desc:"Police Officers â€” Ward 1 Holiday Give Pack at Gateway Arena", fund:"Non-Capital", amount:520.00},
  {date:"2025-12-08", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Holiday Giveback Toys", fund:"Non-Capital", amount:4720.25},
  {date:"2025-12-09", vendor:"U-Haul International Inc.", desc:"Truck, Utility Dolly & Rental Protection for Ward 1", fund:"Non-Capital", amount:457.40},
  {date:"2025-12-09", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Volunteer Shirts, Holiday Giveback", fund:"Non-Capital", amount:1179.90},
  {date:"2025-12-10", vendor:"Chuma Williams", desc:"Ward 1 Community Event Items", fund:"Non-Capital", amount:2115.00},
  {date:"2025-12-10", vendor:"Georgia Intl. BIDA Convention Center", desc:"Holiday Buffet â€” Ward 1", fund:"Non-Capital", amount:7000.00},
  {date:"2025-12-12", vendor:"Ignite Resource Center CP Inc.", desc:"Ward 1 Additional Assistance Programming During Govt. Shutdown", fund:"Non-Capital", amount:1500.00},
  {date:"2025-12-16", vendor:"Eleanor Cornelius (BIDA Board)", desc:"Ward 1 Seniors Holiday Dinner", fund:"Non-Capital", amount:1200.00},
  {date:"2025-12-16", vendor:"One Talent Inc.", desc:"Ward 1 Veteran's Service & Luncheon", fund:"Non-Capital", amount:250.00},
  {date:"2025-12-19", vendor:"Ward 1 (Cashier's Check Return)", desc:"Credit â€” Returned Funds", fund:"Credit", amount:-7000.00},
  {date:"2025-12-19", vendor:"Anchored Counseling LLC", desc:"Ward 1 Post-Conference Final Report / 2026 Calendar / Event Sharing", fund:"Non-Capital", amount:4550.00},
  {date:"2025-12-22", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 Planning Conference Balance", fund:"Non-Capital", amount:1837.06},
  {date:"2025-12-22", vendor:"Vietnam Veterans of America Ch. 1118", desc:"Ward 1 Vietnam Veterans Community Outreach", fund:"Non-Capital", amount:2500.00},
  {date:"2025-12-23", vendor:"Jay Productions Agency", desc:"Ward 1 Love Feast Food", fund:"Non-Capital", amount:400.00},
  {date:"2025-12-23", vendor:"Jay Productions Agency", desc:"Ward 1 Community Events Consultant", fund:"Non-Capital", amount:6000.00},

  // NON-CAPITAL â€” JANUARY
  {date:"2026-01-03", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement for Ward 1 Expenditures", fund:"Non-Capital", amount:205.24},
  {date:"2026-01-05", vendor:"Jay Productions Agency", desc:"Ward 1 Love Feast Food", fund:"Non-Capital", amount:200.00},
  {date:"2026-01-05", vendor:"Mario Malcolm", desc:"Ward 1 Community & Partner Relations Specialist", fund:"Non-Capital", amount:3000.00},
  {date:"2026-01-13", vendor:"Jay Productions Agency", desc:"Ward 1 Flyer Designs for January", fund:"Non-Capital", amount:200.00},
  {date:"2026-01-14", vendor:"U-Haul International Inc. (VOID)", desc:"Truck Rental â€” Ward 1 (Void)", fund:"Credit", amount:-661.00},
  {date:"2026-01-14", vendor:"Sakena Abernathy", desc:"Ward 1 Professional Services for Community Event", fund:"Non-Capital", amount:2352.68},
  {date:"2026-01-19", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement â€” Ward 1 MLK Day Town Hall Lunch", fund:"Non-Capital", amount:333.05},
  {date:"2026-01-21", vendor:"Jay Productions Agency", desc:"Ward 1 Community Events Consultant", fund:"Non-Capital", amount:6000.00},
  {date:"2026-01-21", vendor:"Jay Productions Agency", desc:"Ward 1 Custom Flyers", fund:"Non-Capital", amount:150.00},

  // DISCRETIONARY
  {date:"2025-07-01", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Constant Contact Reimbursements (Sep 2024â€“Jun 2025 Backlog)", fund:"Discretionary", amount:756.00},
  {date:"2025-07-21", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Constant Contact â€” July 2025", fund:"Discretionary", amount:81.00},
  {date:"2025-07-25", vendor:"Ward 1 / 4Imprint (CREDIT)", desc:"Overpayment/Unused Credit Return", fund:"Credit", amount:-239.01},
  {date:"2025-08-01", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Summer Interns Appreciation/Sendoff Lunch", fund:"Discretionary", amount:501.42},
  {date:"2025-08-09", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Constant Contact â€” August 2025", fund:"Discretionary", amount:7.74},
  {date:"2025-08-21", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Constant Contact â€” August 2025", fund:"Discretionary", amount:101.00},
  {date:"2025-09-24", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursements for Ward 1 Expenditures", fund:"Discretionary", amount:451.52},
  {date:"2025-10-14", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Constant Contact Dec 2024 (VOID)", fund:"Credit", amount:-50.00},
  {date:"2025-10-23", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Ward 1 â€” T's Brunch Bar Grand Opening", fund:"Discretionary", amount:687.90},
  {date:"2025-11-03", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursement for Ward 1 Community Meeting", fund:"Discretionary", amount:530.34},
  {date:"2025-11-04", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Reimbursements for Ward 1 Expenditures", fund:"Discretionary", amount:11.30},
  {date:"2025-11-20", vendor:"CSI Crane LLC", desc:"Mayor Pro Tem Interview Prep", fund:"Discretionary", amount:350.00},
  {date:"2025-12-19", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Ward 1 Staff Planning Conference Reimbursement", fund:"Discretionary", amount:850.00},
  {date:"2026-01-08", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Retractable Banner â€” Ward 1", fund:"Discretionary", amount:131.88},
  {date:"2026-01-13", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"100 Ã— 30-Gallon Storage Totes â€” Ward 1", fund:"Discretionary", amount:872.00},
  {date:"2026-01-13", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Ward 1 Staff Lunch", fund:"Discretionary", amount:57.15},
  {date:"2026-01-15", vendor:"Jamelle E. McKenzie (Councilwoman)", desc:"Crisis Communications Services", fund:"Discretionary", amount:250.00},
];

// â”€â”€â”€ MONTHLY CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const months = ["Jul '25","Aug '25","Sep '25","Oct '25","Nov '25","Dec '25","Jan '26"];
const capitalByMonth  = [0,        0,        0,        4898.08, 96392.75, 32510.00, 13475.00];
// Pre-Nov capital balance $47,711.46 split approx Jul/Aug/Sep (not individually reported)
const capitalPrior    = [15903.82, 15903.82, 15903.82, 4898.08, 96392.75, 32510.00, 13475.00];
// Use "prior" = evenly distributed estimate for Jul-Sep; actual Oct+ from reports
const capData         = [15904, 15904, 15904, 4898, 96393, 32510, 13475];
const nonCapData      = [59707, 59707, 59707, 0,    60751, 55372, 11780];
// Pre-Nov non-cap $179,121 split across Jul-Oct (not individually reported; we know it's 4 months)
const nonCapActual    = [44780, 44780, 44780, 44781, 60751, 55372, 11780];
const discData        = [837,   610,   452,   688,   892,   850,   1311];

new Chart(document.getElementById('monthlyChart'), {
  type: 'bar',
  data: {
    labels: months,
    datasets: [
      {
        label: 'Capital',
        data: capData,
        backgroundColor: 'rgba(15,52,96,0.85)',
        borderRadius: 4,
      },
      {
        label: 'Non-Capital',
        data: nonCapActual,
        backgroundColor: 'rgba(233,69,96,0.82)',
        borderRadius: 4,
      },
      {
        label: 'Discretionary',
        data: discData,
        backgroundColor: 'rgba(83,52,131,0.80)',
        borderRadius: 4,
      }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { position: 'top', labels: { usePointStyle: true, padding: 16 }},
      tooltip: {
        callbacks: {
          label: ctx => ` ${ctx.dataset.label}: $${ctx.parsed.y.toLocaleString()}`
        }
      }
    },
    scales: {
      x: { stacked: true, grid: { display: false } },
      y: { stacked: true, ticks: { callback: v => '$'+v.toLocaleString() }, grid: { color: '#f0f0f0' } }
    }
  }
});

// â”€â”€â”€ VENDOR CHART â€” CAPITAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const capVendors = {
  "A & S Paving Inc.": 76967.75,
  "James Maceo Rogers": 20950.00,
  "Pinnacle Maintenance LLC": 20600.00,
  "PowerCircle Mgmt. LLC": 15000.00,
  "Hydroecology N. America II": 8998.26,
  "La'Neice Littleton": 5900.00,
};
new Chart(document.getElementById('vendorCapChart'), {
  type: 'bar',
  data: {
    labels: Object.keys(capVendors),
    datasets: [{ data: Object.values(capVendors), backgroundColor: ['rgba(15,52,96,0.85)','rgba(15,52,96,0.72)','rgba(15,52,96,0.60)','rgba(15,52,96,0.50)','rgba(15,52,96,0.40)','rgba(15,52,96,0.30)'], borderRadius: 4 }]
  },
  options: {
    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ` $${ctx.parsed.x.toLocaleString()}` }}},
    scales: { x: { ticks: { callback: v => '$'+v.toLocaleString() }, grid: { color: '#f0f0f0' } }, y: { grid: { display: false } }}
  }
});

// â”€â”€â”€ VENDOR CHART â€” NON-CAPITAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const nonCapVendors = {
  "Jay Productions Agency": 24750.00,
  "Destination College Park": 20000.00,
  "McKenzie Reimbursements": 18091.91,
  "Lovely Media LLC": 12500.00,
  "Food in the City": 7000.00,
  "Ignite Resource Center": 9500.00,
  "Mario Malcolm": 9000.00,
  "Georgia Intl. Convention Ctr": 7000.00,
  "Venue Code 44": 3960.00,
  "Eight 11 Collective LLC": 6950.00,
};
new Chart(document.getElementById('vendorNonCapChart'), {
  type: 'bar',
  data: {
    labels: Object.keys(nonCapVendors),
    datasets: [{ data: Object.values(nonCapVendors), backgroundColor: ['rgba(233,69,96,0.85)','rgba(233,69,96,0.75)','rgba(233,69,96,0.65)','rgba(233,69,96,0.55)','rgba(233,69,96,0.45)','rgba(233,69,96,0.38)','rgba(233,69,96,0.32)','rgba(233,69,96,0.27)','rgba(233,69,96,0.22)','rgba(233,69,96,0.17)'], borderRadius: 4 }]
  },
  options: {
    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ` $${ctx.parsed.x.toLocaleString()}` }}},
    scales: { x: { ticks: { callback: v => '$'+v.toLocaleString() }, grid: { color: '#f0f0f0' } }, y: { grid: { display: false } }}
  }
});

// â”€â”€â”€ PURPOSE CHART (Non-Capital) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
new Chart(document.getElementById('purposeChart'), {
  type: 'doughnut',
  data: {
    labels: ['Community Events & Consulting','Holiday Programming','Senior Programming','Veterans Programs','Infrastructure & Docs','Reimbursements','Professional Services'],
    datasets: [{
      data: [62550, 58231, 11875, 4730, 12500, 21957, 18390],
      backgroundColor: ['#e94560','#c0392b','#e67e22','#2980b9','#1abc9c','#9b59b6','#f39c12'],
      borderWidth: 2, borderColor: '#fff'
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { position: 'right', labels: { boxWidth: 12, padding: 10, font: { size: 11 } }},
      tooltip: { callbacks: { label: ctx => ` ${ctx.label}: $${ctx.parsed.toLocaleString()}` }}
    }
  }
});

// â”€â”€â”€ UTILIZATION CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
new Chart(document.getElementById('utilizationChart'), {
  type: 'bar',
  data: {
    labels: ['Capital ($500K)', 'Non-Capital ($400K)', 'Total ($900K)'],
    datasets: [
      { label: 'Spent', data: [190089, 307024, 497113], backgroundColor: ['rgba(15,52,96,0.85)','rgba(233,69,96,0.85)','rgba(83,52,131,0.85)'], borderRadius: 4 },
      { label: 'Remaining', data: [309911, 92976, 402887], backgroundColor: ['rgba(15,52,96,0.15)','rgba(233,69,96,0.15)','rgba(83,52,131,0.15)'], borderRadius: 4 }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { position: 'top', labels: { usePointStyle: true, padding: 14 }},
      tooltip: { callbacks: { label: ctx => ` ${ctx.dataset.label}: $${ctx.parsed.y.toLocaleString()}` }}
    },
    scales: {
      x: { stacked: true, grid: { display: false } },
      y: { stacked: true, ticks: { callback: v => '$'+Math.round(v/1000)+'K' }, grid: { color: '#f0f0f0' }, max: 900000 }
    }
  }
});

// â”€â”€â”€ TABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let currentFilter = 'all';

function fmt(n) {
  const abs = Math.abs(n);
  return '$' + abs.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

function tagClass(fund) {
  if (fund === 'Capital') return 'tag-capital';
  if (fund === 'Non-Capital') return 'tag-noncapital';
  if (fund === 'Discretionary') return 'tag-discretionary';
  return 'tag-credit';
}

function tagLabel(fund) {
  if (fund === 'Capital') return 'Capital';
  if (fund === 'Non-Capital') return 'Non-Capital';
  if (fund === 'Discretionary') return 'Discretionary';
  return 'Credit / Void';
}

function renderTable(data) {
  const tbody = document.getElementById('tableBody');
  if (data.length === 0) {
    tbody.innerHTML = '<tr><td colspan="5" class="no-results">No transactions match your filter.</td></tr>';
    document.getElementById('rowSummary').textContent = '';
    document.getElementById('totalShown').textContent = '';
    document.getElementById('rowCountLabel').textContent = '';
    return;
  }

  const totalDebits = data.filter(t => t.amount > 0).reduce((s, t) => s + t.amount, 0);
  const totalCredits = data.filter(t => t.amount < 0).reduce((s, t) => s + t.amount, 0);

  tbody.innerHTML = data.map(t => `
    <tr>
      <td class="date-col">${new Date(t.date+'T12:00:00').toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})}</td>
      <td class="vendor-col">${t.vendor}</td>
      <td class="desc-col">${t.desc}</td>
      <td><span class="tag ${tagClass(t.fund)}">${tagLabel(t.fund)}</span></td>
      <td style="text-align:right" class="${t.amount >= 0 ? 'amount-pos' : 'amount-neg'}">${t.amount < 0 ? '(' + fmt(t.amount) + ')' : fmt(t.amount)}</td>
    </tr>
  `).join('');

  const n = data.length;
  document.getElementById('rowCountLabel').textContent = `${n} transaction${n !== 1 ? 's' : ''}`;
  document.getElementById('rowSummary').textContent = `${n} transaction${n !== 1 ? 's' : ''} shown`;
  document.getElementById('totalShown').textContent = `Total Debits: ${fmt(totalDebits)}  Â·  Credits: ${fmt(Math.abs(totalCredits))}  Â·  Net: ${fmt(totalDebits + totalCredits)}`;
}

function getFiltered() {
  const q = document.getElementById('searchInput').value.toLowerCase();
  const sorted = [...transactions].sort((a,b) => new Date(a.date) - new Date(b.date));
  return sorted.filter(t => {
    const matchFund = currentFilter === 'all' ? true
      : currentFilter === 'Credit' ? t.fund === 'Credit'
      : t.fund === currentFilter;
    const matchQ = !q || t.vendor.toLowerCase().includes(q) || t.desc.toLowerCase().includes(q) || String(Math.abs(t.amount)).includes(q);
    return matchFund && matchQ;
  });
}

function filterTable() { renderTable(getFiltered()); }

function setFilter(filter, btn) {
  currentFilter = filter;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  filterTable();
}

// Initial render
renderTable(getFiltered());
</script>
</body>
</html>
